"use strict";var server="https://speed-reader-heroku.herokuapp.com",submitForm=document.querySelector(".search-div"),retry=document.querySelector(".retry-btn"),resultsDiv=document.querySelector(".results-div"),analyzingMsg=document.querySelector(".analyzing"),nameOfURL=document.querySelector(".url-input"),screenshot=document.querySelector(".url-screenshot"),resultsDivHeader=document.querySelector(".url-name"),timeToFirstByte=document.querySelector(".first-byte"),speedIndex=document.querySelector(".speed-index"),pageSize=document.querySelector(".page-size"),assignStatsToResultsDiv=function(e){resultsDivHeader.innerHTML=nameOfURL.value,timeToFirstByte.innerHTML=(e.responseStart-e.requestStart)/1e3,speedIndex.innerHTML=(e.loadEventEnd-e.navStart)/1e3,pageSize.innerHTML=e.pageSize/1e7},showURLInfo=function(e){console.log("stats: "+e);var t=JSON.parse(e);analyzingMsg.classList.add("hidden"),resultsDiv.classList.remove("hidden"),assignStatsToResultsDiv(t)},requestForPerformanceStats=function(){var e=new XMLHttpRequest;e.open("GET",server+"/getstats/"+nameOfURL.value),e.onload=function(){return showURLInfo(e.response)},e.send()},initiateUrlAnalysis=function(e){e.preventDefault(),resultsDiv.classList.add("hidden"),analyzingMsg.classList.remove("hidden"),screenshot.src=server+"/getscreenshot/"+nameOfURL.value,requestForPerformanceStats()};submitForm.addEventListener("submit",function(e){return initiateUrlAnalysis(e)}),retry.addEventListener("click",function(e){return initiateUrlAnalysis(e)});